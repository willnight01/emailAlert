{"version":3,"file":"Templates-CR0bs0eI.js","sources":["../../src/components/VariableCategory.vue","../../src/components/VariableHelp.vue","../../src/components/VariableSelector.vue","../../src/components/TemplateForm.vue","../../src/components/TemplatePreview.vue","../../src/views/Templates.vue"],"sourcesContent":["<template>\n  <div class=\"variable-category\">\n    <div class=\"category-header\">\n      <h3>{{ title }}</h3>\n      <p class=\"category-description\">{{ description }}</p>\n    </div>\n    \n    <div class=\"variable-list\">\n      <div \n        v-for=\"variable in variables\" \n        :key=\"variable.name\"\n        class=\"variable-item\"\n      >\n        <div class=\"variable-info\">\n          <div class=\"variable-name\">\n            <code>{{ getVariableTemplate(variable.name) }}</code>\n            <el-button \n              size=\"small\" \n              type=\"primary\" \n              link\n              @click=\"handleInsert(variable.name)\"\n            >\n              插入\n            </el-button>\n          </div>\n          <div class=\"variable-description\">{{ variable.description }}</div>\n          <div class=\"variable-example\">\n            <span class=\"example-label\">示例值：</span>\n            <span class=\"example-value\">{{ variable.example }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nconst props = defineProps({\n  title: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  variables: {\n    type: Array,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['insert'])\n\nconst handleInsert = (variableName) => {\n  emit('insert', variableName)\n}\n\nconst getVariableTemplate = (variableName) => {\n  return `{{${variableName}}}`\n}\n</script>\n\n<style scoped>\n.variable-category {\n  padding: 20px;\n}\n\n.category-header {\n  margin-bottom: 24px;\n  padding-bottom: 12px;\n  border-bottom: 2px solid #e4e7ed;\n}\n\n.category-header h3 {\n  margin: 0 0 8px 0;\n  color: #2c3e50;\n  font-weight: 600;\n}\n\n.category-description {\n  margin: 0;\n  color: #6c757d;\n  font-size: 14px;\n}\n\n.variable-list {\n  display: grid;\n  gap: 16px;\n}\n\n.variable-item {\n  border: 1px solid #e4e7ed;\n  border-radius: 6px;\n  padding: 16px;\n  background-color: #fafbfc;\n  transition: border-color 0.2s, box-shadow 0.2s;\n}\n\n.variable-item:hover {\n  border-color: #409eff;\n  box-shadow: 0 2px 8px rgba(64, 158, 255, 0.1);\n}\n\n.variable-name {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.variable-name code {\n  background-color: #f1f2f6;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 13px;\n  color: #e74c3c;\n  font-weight: 600;\n}\n\n.variable-description {\n  color: #495057;\n  font-size: 14px;\n  margin-bottom: 8px;\n  line-height: 1.5;\n}\n\n.variable-example {\n  font-size: 13px;\n  color: #6c757d;\n}\n\n.example-label {\n  color: #868e96;\n  font-weight: 500;\n}\n\n.example-value {\n  color: #28a745;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  background-color: #f8f9fa;\n  padding: 2px 4px;\n  border-radius: 3px;\n  margin-left: 4px;\n}\n</style> ","<template>\n  <el-dialog\n    v-model=\"visible\"\n    title=\"模版变量帮助\"\n    width=\"70%\"\n    :close-on-click-modal=\"false\"\n  >\n    <div class=\"variable-help\">\n      <div class=\"help-header\">\n        <el-alert\n          title=\"变量使用说明\"\n          type=\"info\"\n          show-icon\n          :closable=\"false\"\n        >\n          <template #default>\n            <p>在模版中使用变量时，请使用双大括号包围变量名，如：<code v-pre>{{.Email.Subject}}</code></p>\n            <p>变量名区分大小写，请按照下面的格式准确使用</p>\n          </template>\n        </el-alert>\n      </div>\n      \n      <el-tabs v-model=\"activeTab\" class=\"variable-tabs\">\n        <el-tab-pane label=\"邮件变量\" name=\"email\">\n          <VariableCategory\n            title=\"邮件相关变量\"\n            description=\"从邮件中提取的基本信息\"\n            :variables=\"emailVariables\"\n            @insert=\"handleInsert\"\n          />\n        </el-tab-pane>\n        \n        <el-tab-pane label=\"告警变量\" name=\"alert\">\n          <VariableCategory\n            title=\"告警相关变量\"\n            description=\"告警处理过程中生成的信息\"\n            :variables=\"alertVariables\"\n            @insert=\"handleInsert\"\n          />\n        </el-tab-pane>\n        \n        <el-tab-pane label=\"规则变量\" name=\"rule\">\n          <VariableCategory\n            title=\"规则相关变量\"\n            description=\"匹配的告警规则信息\"\n            :variables=\"ruleVariables\"\n            @insert=\"handleInsert\"\n          />\n        </el-tab-pane>\n        \n        <el-tab-pane label=\"邮箱变量\" name=\"mailbox\">\n          <VariableCategory\n            title=\"邮箱相关变量\"\n            description=\"邮箱配置信息\"\n            :variables=\"mailboxVariables\"\n            @insert=\"handleInsert\"\n          />\n        </el-tab-pane>\n        \n        <el-tab-pane label=\"系统变量\" name=\"system\">\n          <VariableCategory\n            title=\"系统相关变量\"\n            description=\"系统环境信息\"\n            :variables=\"systemVariables\"\n            @insert=\"handleInsert\"\n          />\n        </el-tab-pane>\n        \n        <el-tab-pane label=\"时间变量\" name=\"time\">\n          <VariableCategory\n            title=\"时间相关变量\"\n            description=\"各种时间格式\"\n            :variables=\"timeVariables\"\n            @insert=\"handleInsert\"\n          />\n        </el-tab-pane>\n        \n        <el-tab-pane label=\"常用组合\" name=\"examples\">\n          <div class=\"examples-section\">\n            <h3>常用变量组合示例</h3>\n            <div class=\"example-items\">\n              <div \n                v-for=\"example in examples\" \n                :key=\"example.name\"\n                class=\"example-item\"\n              >\n                <div class=\"example-header\">\n                  <h4>{{ example.name }}</h4>\n                  <el-button \n                    size=\"small\" \n                    type=\"primary\" \n                    @click=\"handleInsert(example.template)\"\n                  >\n                    插入模版\n                  </el-button>\n                </div>\n                <div class=\"example-description\">{{ example.description }}</div>\n                <div class=\"example-template\">\n                  <el-input\n                    :model-value=\"example.template\"\n                    type=\"textarea\"\n                    :rows=\"3\"\n                    readonly\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n  </el-dialog>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport VariableCategory from './VariableCategory.vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'insert'])\n\nconst visible = computed({\n  get: () => props.modelValue,\n  set: (val) => emit('update:modelValue', val)\n})\n\nconst activeTab = ref('email')\n\n// 邮件变量\nconst emailVariables = [\n  {\n    name: '.Email.Subject',\n    description: '邮件主题',\n    example: '【告警】系统异常通知'\n  },\n  {\n    name: '.Email.Sender',\n    description: '发件人邮箱地址',\n    example: 'monitor@example.com'\n  },\n  {\n    name: '.Email.Content',\n    description: '邮件正文内容',\n    example: '数据库连接异常，请立即处理'\n  },\n  {\n    name: '.Email.HTMLContent',\n    description: '邮件HTML内容',\n    example: '<p>数据库连接异常，请立即处理</p>'\n  },\n  {\n    name: '.Email.ReceivedAt',\n    description: '邮件接收时间',\n    example: '2024-01-15 14:30:25'\n  },\n  {\n    name: '.Email.Size',\n    description: '邮件大小（字节）',\n    example: '1024'\n  },\n  {\n    name: '.Email.MessageID',\n    description: '邮件唯一标识符',\n    example: '<123456@example.com>'\n  }\n]\n\n// 告警变量\nconst alertVariables = [\n  {\n    name: '.Alert.ID',\n    description: '告警ID',\n    example: '1001'\n  },\n  {\n    name: '.Alert.Subject',\n    description: '告警主题（处理后）',\n    example: '【告警】系统异常通知'\n  },\n  {\n    name: '.Alert.Status',\n    description: '告警状态',\n    example: 'active'\n  },\n  {\n    name: '.Alert.Content',\n    description: '告警内容（处理后）',\n    example: '数据库连接异常，请立即处理'\n  },\n  {\n    name: '.Alert.CreatedAt',\n    description: '告警创建时间',\n    example: '2024-01-15 14:30:25'\n  },\n  {\n    name: '.Alert.ReceivedAt',\n    description: '邮件接收时间',\n    example: '2024-01-15 14:30:25'\n  }\n]\n\n// 规则变量\nconst ruleVariables = [\n  {\n    name: '.Rule.ID',\n    description: '规则ID',\n    example: '1'\n  },\n  {\n    name: '.Rule.Name',\n    description: '规则名称',\n    example: '生产环境告警规则'\n  },\n  {\n    name: '.Rule.MatchType',\n    description: '匹配类型',\n    example: 'keyword'\n  },\n  {\n    name: '.Rule.MatchValue',\n    description: '匹配值',\n    example: '错误,异常,告警'\n  },\n  {\n    name: '.Rule.Priority',\n    description: '规则优先级',\n    example: '9'\n  },\n  {\n    name: '.Rule.Description',\n    description: '规则描述',\n    example: '用于匹配生产环境的告警信息'\n  }\n]\n\n// 邮箱变量\nconst mailboxVariables = [\n  {\n    name: '.Mailbox.ID',\n    description: '邮箱ID',\n    example: '1'\n  },\n  {\n    name: '.Mailbox.Name',\n    description: '邮箱名称',\n    example: '监控邮箱'\n  },\n  {\n    name: '.Mailbox.Email',\n    description: '邮箱地址',\n    example: 'monitor@example.com'\n  },\n  {\n    name: '.Mailbox.Host',\n    description: 'IMAP服务器地址',\n    example: 'imap.example.com'\n  },\n  {\n    name: '.Mailbox.Port',\n    description: 'IMAP端口',\n    example: '993'\n  }\n]\n\n// 系统变量\nconst systemVariables = [\n  {\n    name: '.System.AppName',\n    description: '应用名称',\n    example: '统一邮件告警平台'\n  },\n  {\n    name: '.System.AppVersion',\n    description: '应用版本',\n    example: 'v1.0.0'\n  },\n  {\n    name: '.System.ServerName',\n    description: '服务器名称',\n    example: 'alert-server-01'\n  },\n  {\n    name: '.System.Environment',\n    description: '运行环境',\n    example: 'production'\n  }\n]\n\n// 时间变量\nconst timeVariables = [\n  {\n    name: '.Time.Now',\n    description: '当前时间戳',\n    example: '1705314625'\n  },\n  {\n    name: '.Time.NowFormat',\n    description: '当前时间（格式化）',\n    example: '2024-01-15 14:30:25'\n  },\n  {\n    name: '.Time.Today',\n    description: '今天日期',\n    example: '2024-01-15'\n  },\n  {\n    name: '.Time.Year',\n    description: '当前年份',\n    example: '2024'\n  },\n  {\n    name: '.Time.Month',\n    description: '当前月份',\n    example: '01'\n  },\n  {\n    name: '.Time.Day',\n    description: '当前日期',\n    example: '15'\n  },\n  {\n    name: '.Time.Hour',\n    description: '当前小时',\n    example: '14'\n  },\n  {\n    name: '.Time.Minute',\n    description: '当前分钟',\n    example: '30'\n  },\n  {\n    name: '.Time.Second',\n    description: '当前秒数',\n    example: '25'\n  },\n  {\n    name: '.Time.Weekday',\n    description: '星期几',\n    example: '星期一'\n  }\n]\n\n// 常用组合示例\nconst examples = [\n  {\n    name: '简单邮件通知',\n    description: '最基础的邮件告警通知格式',\n    template: `主题：{{.Email.Subject}}\n发件人：{{.Email.Sender}}\n时间：{{.Email.ReceivedAt}}\n\n內容：\n{{.Email.Content}}\n\n通知时间：{{.Time.NowFormat}}`\n  },\n  {\n    name: '详细告警信息',\n    description: '包含规则和系统信息的详细告警',\n    template: `## 🚨 {{.System.AppName}} 告警通知\n\n**告警信息**\n- 主题：{{.Email.Subject}}\n- 发件人：{{.Email.Sender}}\n- 接收时间：{{.Email.ReceivedAt}}\n\n**匹配规则**\n- 规则名称：{{.Rule.Name}}\n- 匹配类型：{{.Rule.MatchType}}\n- 优先级：{{.Rule.Priority}}\n\n**邮件内容**\n{{.Email.Content}}\n\n---\n*系统：{{.System.AppName}} | 服务器：{{.System.ServerName}} | 通知时间：{{.Time.NowFormat}}*`\n  },\n  {\n    name: 'HTML邮件模版',\n    description: '富文本格式的邮件通知模版',\n    template: `<h2 style=\"color: #e74c3c;\">🚨 系统告警通知</h2>\n\n<table style=\"width: 100%; border-collapse: collapse;\">\n  <tr>\n    <td style=\"padding: 8px; border: 1px solid #ddd; background-color: #f9f9f9;\"><strong>邮件主题</strong></td>\n    <td style=\"padding: 8px; border: 1px solid #ddd;\">{{.Email.Subject}}</td>\n  </tr>\n  <tr>\n    <td style=\"padding: 8px; border: 1px solid #ddd; background-color: #f9f9f9;\"><strong>发件人</strong></td>\n    <td style=\"padding: 8px; border: 1px solid #ddd;\">{{.Email.Sender}}</td>\n  </tr>\n  <tr>\n    <td style=\"padding: 8px; border: 1px solid #ddd; background-color: #f9f9f9;\"><strong>接收时间</strong></td>\n    <td style=\"padding: 8px; border: 1px solid #ddd;\">{{.Email.ReceivedAt}}</td>\n  </tr>\n</table>\n\n<div style=\"background-color: #f8f9fa; padding: 15px; margin: 15px 0; border-left: 4px solid #007bff;\">\n  <h3>邮件内容</h3>\n  <p>{{.Email.Content}}</p>\n</div>\n\n<hr>\n<p style=\"color: #6c757d; font-size: 12px;\">\n  通知时间：{{.Time.NowFormat}} | 系统：{{.System.AppName}} v{{.System.AppVersion}}\n</p>`\n  }\n]\n\nconst handleInsert = (variable) => {\n  emit('insert', variable)\n}\n</script>\n\n<style scoped>\n.variable-help {\n  max-height: 70vh;\n}\n\n.help-header {\n  margin-bottom: 20px;\n}\n\n.help-header code {\n  background-color: #f1f2f6;\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  color: #e74c3c;\n}\n\n.variable-tabs {\n  height: 60vh;\n}\n\n:deep(.el-tabs__content) {\n  height: calc(60vh - 50px);\n  overflow-y: auto;\n}\n\n.examples-section {\n  padding: 20px;\n}\n\n.examples-section h3 {\n  margin-bottom: 20px;\n  color: #2c3e50;\n}\n\n.example-items {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.example-item {\n  border: 1px solid #e4e7ed;\n  border-radius: 6px;\n  padding: 16px;\n  background-color: #fafbfc;\n}\n\n.example-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.example-header h4 {\n  margin: 0;\n  color: #2c3e50;\n}\n\n.example-description {\n  color: #6c757d;\n  font-size: 14px;\n  margin-bottom: 12px;\n}\n\n.example-template {\n  margin-top: 8px;\n}\n\n:deep(.example-template .el-textarea__inner) {\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 12px;\n  background-color: #f8f9fa;\n  border: 1px solid #dee2e6;\n}\n</style> ","<template>\n  <el-dialog\n    v-model=\"visible\"\n    title=\"选择变量\"\n    width=\"50%\"\n    :close-on-click-modal=\"false\"\n  >\n    <div class=\"variable-selector\">\n      <div class=\"search-bar\">\n        <el-input\n          v-model=\"searchKeyword\"\n          placeholder=\"搜索变量...\"\n          clearable\n          @input=\"handleSearch\"\n        >\n          <template #prefix>\n            <el-icon><Search /></el-icon>\n          </template>\n        </el-input>\n      </div>\n      \n      <div class=\"variable-tree\">\n        <el-tree\n          ref=\"treeRef\"\n          :data=\"treeData\"\n          node-key=\"id\"\n          :props=\"treeProps\"\n          :filter-node-method=\"filterNode\"\n          :expand-on-click-node=\"false\"\n          default-expand-all\n        >\n          <template #default=\"{ data }\">\n            <div class=\"tree-node\">\n              <span class=\"node-label\">{{ data.label }}</span>\n              <el-button\n                v-if=\"data.variable\"\n                size=\"small\"\n                type=\"primary\"\n                @click=\"handleSelect(data.variable)\"\n              >\n                选择\n              </el-button>\n            </div>\n          </template>\n        </el-tree>\n      </div>\n    </div>\n  </el-dialog>\n</template>\n\n<script setup>\nimport { ref, computed, nextTick } from 'vue'\nimport { Search } from '@element-plus/icons-vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'select'])\n\nconst visible = computed({\n  get: () => props.modelValue,\n  set: (val) => emit('update:modelValue', val)\n})\n\nconst searchKeyword = ref('')\nconst treeRef = ref()\n\nconst treeProps = {\n  children: 'children',\n  label: 'label'\n}\n\n// 构建树形数据\nconst treeData = [\n  {\n    id: 'email',\n    label: '邮件变量',\n    children: [\n      { id: 'email-subject', label: '邮件主题', variable: '.Email.Subject' },\n      { id: 'email-sender', label: '发件人', variable: '.Email.Sender' },\n      { id: 'email-content', label: '邮件内容', variable: '.Email.Content' },\n      { id: 'email-html-content', label: 'HTML内容', variable: '.Email.HTMLContent' },\n      { id: 'email-received-at', label: '接收时间', variable: '.Email.ReceivedAt' },\n      { id: 'email-size', label: '邮件大小', variable: '.Email.Size' },\n      { id: 'email-message-id', label: '邮件ID', variable: '.Email.MessageID' }\n    ]\n  },\n  {\n    id: 'alert',\n    label: '告警变量',\n    children: [\n      { id: 'alert-id', label: '告警ID', variable: '.Alert.ID' },\n      { id: 'alert-subject', label: '告警主题', variable: '.Alert.Subject' },\n      { id: 'alert-status', label: '告警状态', variable: '.Alert.Status' },\n      { id: 'alert-content', label: '告警内容', variable: '.Alert.Content' },\n      { id: 'alert-created-at', label: '创建时间', variable: '.Alert.CreatedAt' },\n      { id: 'alert-received-at', label: '接收时间', variable: '.Alert.ReceivedAt' }\n    ]\n  },\n  {\n    id: 'rule',\n    label: '规则变量',\n    children: [\n      { id: 'rule-id', label: '规则ID', variable: '.Rule.ID' },\n      { id: 'rule-name', label: '规则名称', variable: '.Rule.Name' },\n      { id: 'rule-match-type', label: '匹配类型', variable: '.Rule.MatchType' },\n      { id: 'rule-match-value', label: '匹配值', variable: '.Rule.MatchValue' },\n      { id: 'rule-priority', label: '优先级', variable: '.Rule.Priority' },\n      { id: 'rule-description', label: '规则描述', variable: '.Rule.Description' }\n    ]\n  },\n  {\n    id: 'mailbox',\n    label: '邮箱变量',\n    children: [\n      { id: 'mailbox-id', label: '邮箱ID', variable: '.Mailbox.ID' },\n      { id: 'mailbox-name', label: '邮箱名称', variable: '.Mailbox.Name' },\n      { id: 'mailbox-email', label: '邮箱地址', variable: '.Mailbox.Email' },\n      { id: 'mailbox-host', label: 'IMAP主机', variable: '.Mailbox.Host' },\n      { id: 'mailbox-port', label: 'IMAP端口', variable: '.Mailbox.Port' }\n    ]\n  },\n  {\n    id: 'system',\n    label: '系统变量',\n    children: [\n      { id: 'system-app-name', label: '应用名称', variable: '.System.AppName' },\n      { id: 'system-app-version', label: '应用版本', variable: '.System.AppVersion' },\n      { id: 'system-server-name', label: '服务器名称', variable: '.System.ServerName' },\n      { id: 'system-environment', label: '运行环境', variable: '.System.Environment' }\n    ]\n  },\n  {\n    id: 'time',\n    label: '时间变量',\n    children: [\n      { id: 'time-now', label: '当前时间戳', variable: '.Time.Now' },\n      { id: 'time-now-format', label: '格式化时间', variable: '.Time.NowFormat' },\n      { id: 'time-today', label: '今天日期', variable: '.Time.Today' },\n      { id: 'time-year', label: '年份', variable: '.Time.Year' },\n      { id: 'time-month', label: '月份', variable: '.Time.Month' },\n      { id: 'time-day', label: '日期', variable: '.Time.Day' },\n      { id: 'time-hour', label: '小时', variable: '.Time.Hour' },\n      { id: 'time-minute', label: '分钟', variable: '.Time.Minute' },\n      { id: 'time-second', label: '秒', variable: '.Time.Second' },\n      { id: 'time-weekday', label: '星期', variable: '.Time.Weekday' }\n    ]\n  }\n]\n\n// 过滤节点\nconst filterNode = (value, data) => {\n  if (!value) return true\n  return data.label.includes(value) || (data.variable && data.variable.includes(value))\n}\n\n// 处理搜索\nconst handleSearch = (value) => {\n  treeRef.value?.filter(value)\n}\n\n// 处理选择\nconst handleSelect = (variable) => {\n  emit('select', variable)\n}\n</script>\n\n<style scoped>\n.variable-selector {\n  max-height: 60vh;\n}\n\n.search-bar {\n  margin-bottom: 16px;\n}\n\n.variable-tree {\n  max-height: 50vh;\n  overflow-y: auto;\n  border: 1px solid #e4e7ed;\n  border-radius: 4px;\n  padding: 8px;\n}\n\n.tree-node {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  padding-right: 8px;\n}\n\n.node-label {\n  flex: 1;\n  font-size: 14px;\n}\n\n:deep(.el-tree-node__content) {\n  height: 36px;\n}\n\n:deep(.el-tree-node__content:hover) {\n  background-color: #f5f7fa;\n}\n</style> ","<template>\n  <el-dialog\n    v-model=\"visible\"\n    :title=\"isEdit ? '编辑模版' : '添加模版'\"\n    width=\"90%\"\n    :close-on-click-modal=\"false\"\n    @closed=\"handleClosed\"\n  >\n    <div class=\"template-form\">\n      <el-row :gutter=\"20\">\n        <!-- 左侧表单 -->\n        <el-col :span=\"12\">\n          <el-form \n            ref=\"formRef\" \n            :model=\"form\" \n            :rules=\"rules\" \n            label-width=\"80px\"\n          >\n            <el-form-item label=\"模版名称\" prop=\"name\">\n              <el-input \n                v-model=\"form.name\" \n                placeholder=\"请输入模版名称\"\n                clearable\n              />\n            </el-form-item>\n            \n            <el-form-item label=\"模版类型\" prop=\"type\">\n              <el-select \n                v-model=\"form.type\" \n                placeholder=\"请选择模版类型\"\n                style=\"width: 100%\"\n                @change=\"handleTypeChange\"\n              >\n                <el-option label=\"邮件模版\" value=\"email\" />\n                <el-option label=\"钉钉模版\" value=\"dingtalk\" />\n                <el-option label=\"企业微信\" value=\"wechat\" />\n                <el-option label=\"Markdown\" value=\"markdown\" />\n              </el-select>\n            </el-form-item>\n            \n            <el-form-item \n              v-if=\"form.type === 'email'\" \n              label=\"邮件主题\" \n              prop=\"subject\"\n            >\n              <el-input \n                v-model=\"form.subject\" \n                placeholder=\"支持变量，如：【告警】{{.System.AppName}} - {{.Email.Subject}}\"\n                clearable\n              />\n            </el-form-item>\n            \n            <el-form-item label=\"模版内容\" prop=\"content\">\n              <div class=\"code-editor\">\n                <div class=\"editor-toolbar\">\n                  <el-button-group>\n                    <el-button \n                      size=\"small\" \n                      @click=\"insertVariable\"\n                      :icon=\"Plus\"\n                    >\n                      插入变量\n                    </el-button>\n                    <el-button \n                      size=\"small\" \n                      @click=\"showVariableHelp = true\"\n                      :icon=\"QuestionFilled\"\n                    >\n                      变量帮助\n                    </el-button>\n                    <el-button \n                      size=\"small\" \n                      @click=\"formatContent\"\n                      :icon=\"Document\"\n                    >\n                      格式化\n                    </el-button>\n                  </el-button-group>\n                </div>\n                <el-input\n                  v-model=\"form.content\"\n                  type=\"textarea\"\n                  :rows=\"12\"\n                  placeholder=\"请输入模版内容，支持变量替换，如：{{.Email.Subject}}\"\n                  style=\"font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\"\n                />\n              </div>\n            </el-form-item>\n            \n            <el-form-item label=\"是否默认\">\n              <el-switch \n                v-model=\"form.is_default\"\n                active-text=\"设为默认模版\"\n                inactive-text=\"普通模版\"\n              />\n            </el-form-item>\n            \n            <el-form-item label=\"描述\">\n              <el-input \n                v-model=\"form.description\" \n                type=\"textarea\"\n                :rows=\"3\"\n                placeholder=\"请输入模版描述\"\n              />\n            </el-form-item>\n          </el-form>\n        </el-col>\n        \n        <!-- 右侧预览 -->\n        <el-col :span=\"12\">\n          <div class=\"preview-section\">\n            <div class=\"preview-header\">\n              <span>实时预览</span>\n              <el-button \n                size=\"small\" \n                type=\"primary\" \n                @click=\"refreshPreview\"\n                :loading=\"previewLoading\"\n              >\n                刷新预览\n              </el-button>\n            </div>\n            \n            <el-tabs v-model=\"activePreviewTab\" class=\"preview-tabs\">\n              <el-tab-pane \n                v-if=\"form.type === 'email' && form.subject\" \n                label=\"邮件主题\" \n                name=\"subject\"\n              >\n                <div class=\"preview-content subject-preview\">\n                  {{ previewData.subject || '主题预览...' }}\n                </div>\n              </el-tab-pane>\n              \n              <el-tab-pane label=\"内容预览\" name=\"content\">\n                <div \n                  class=\"preview-content\"\n                  :class=\"{\n                    'html-preview': form.type === 'email',\n                    'markdown-preview': form.type === 'dingtalk' || form.type === 'markdown',\n                    'text-preview': form.type === 'wechat'\n                  }\"\n                  v-html=\"renderPreviewContent\"\n                >\n                </div>\n              </el-tab-pane>\n              \n              <el-tab-pane label=\"使用变量\" name=\"variables\">\n                <div class=\"used-variables\">\n                  <el-tag \n                    v-for=\"variable in previewData.used_vars\" \n                    :key=\"variable\"\n                    size=\"small\"\n                    class=\"variable-tag\"\n                  >\n                    {{ variable }}\n                  </el-tag>\n                  <div v-if=\"!previewData.used_vars || previewData.used_vars.length === 0\" class=\"no-variables\">\n                    暂未使用任何变量\n                  </div>\n                </div>\n              </el-tab-pane>\n            </el-tabs>\n          </div>\n        </el-col>\n      </el-row>\n    </div>\n    \n    <template #footer>\n      <div class=\"dialog-footer\">\n        <el-button @click=\"visible = false\">取消</el-button>\n        <el-button \n          type=\"primary\" \n          @click=\"handleSubmit\"\n          :loading=\"submitLoading\"\n        >\n          {{ isEdit ? '更新' : '创建' }}\n        </el-button>\n      </div>\n    </template>\n    \n    <!-- 变量帮助对话框 -->\n    <VariableHelp v-model=\"showVariableHelp\" @insert=\"handleInsertVariable\" />\n    \n    <!-- 变量选择器 -->\n    <VariableSelector \n      v-model=\"showVariableSelector\" \n      @select=\"handleSelectVariable\"\n    />\n  </el-dialog>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, watch, nextTick } from 'vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { Plus, QuestionFilled, Document } from '@element-plus/icons-vue'\nimport { templatesAPI } from '@/api'\nimport VariableHelp from './VariableHelp.vue'\nimport VariableSelector from './VariableSelector.vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Boolean,\n    default: false\n  },\n  templateData: {\n    type: Object,\n    default: null\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'success'])\n\nconst visible = ref(false)\nconst formRef = ref()\nconst submitLoading = ref(false)\nconst previewLoading = ref(false)\nconst showVariableHelp = ref(false)\nconst showVariableSelector = ref(false)\nconst activePreviewTab = ref('content')\n\nconst isEdit = computed(() => !!props.templateData?.id)\n\nconst form = reactive({\n  name: '',\n  type: 'email',\n  subject: '',\n  content: '',\n  is_default: false,\n  description: ''\n})\n\nconst rules = {\n  name: [\n    { required: true, message: '请输入模版名称', trigger: 'blur' },\n    { min: 2, max: 50, message: '模版名称长度在 2 到 50 个字符', trigger: 'blur' }\n  ],\n  type: [\n    { required: true, message: '请选择模版类型', trigger: 'change' }\n  ],\n  content: [\n    { required: true, message: '请输入模版内容', trigger: 'blur' },\n    { min: 10, message: '模版内容至少需要 10 个字符', trigger: 'blur' }\n  ]\n}\n\nconst previewData = ref({\n  subject: '',\n  content: '',\n  used_vars: []\n})\n\n// 监听modelValue变化\nwatch(() => props.modelValue, (val) => {\n  visible.value = val\n  if (val) {\n    initForm()\n    nextTick(() => {\n      refreshPreview()\n    })\n  }\n})\n\nwatch(visible, (val) => {\n  emit('update:modelValue', val)\n})\n\n// 初始化表单\nconst initForm = () => {\n  if (props.templateData) {\n    Object.assign(form, {\n      name: props.templateData.name || '',\n      type: props.templateData.type || 'email',\n      subject: props.templateData.subject || '',\n      content: props.templateData.content || '',\n      is_default: props.templateData.is_default || false,\n      description: props.templateData.description || ''\n    })\n  } else {\n    Object.assign(form, {\n      name: '',\n      type: 'email',\n      subject: '',\n      content: '',\n      is_default: false,\n      description: ''\n    })\n  }\n}\n\n// 类型变化处理\nconst handleTypeChange = (type) => {\n  // 根据类型设置默认主题\n  if (type === 'email' && !form.subject) {\n    form.subject = '【告警】{{.System.AppName}} - {{.Email.Subject}}'\n  }\n  \n  // 根据类型设置默认内容模版\n  if (!form.content) {\n    switch (type) {\n      case 'email':\n        form.content = getDefaultEmailTemplate()\n        break\n      case 'dingtalk':\n        form.content = getDefaultDingTalkTemplate()\n        break\n      case 'wechat':\n        form.content = getDefaultWeChatTemplate()\n        break\n      case 'markdown':\n        form.content = getDefaultMarkdownTemplate()\n        break\n    }\n  }\n  \n  refreshPreview()\n}\n\n// 默认模版内容\nconst getDefaultEmailTemplate = () => `<h2>🚨 系统告警通知</h2>\n<p><strong>邮件主题：</strong>{{.Email.Subject}}</p>\n<p><strong>发件人：</strong>{{.Email.Sender}}</p>\n<p><strong>接收时间：</strong>{{.Email.ReceivedAt}}</p>\n<div style=\"background-color: #f8f9fa; padding: 10px; margin: 10px 0;\">\n  <h3>邮件内容</h3>\n  <div>{{.Email.Content}}</div>\n</div>\n<p><small>通知时间：{{.Time.NowFormat}} | 系统：{{.System.AppName}}</small></p>`\n\nconst getDefaultDingTalkTemplate = () => `## 🚨 系统告警通知\n\n**告警详情**\n- **邮件主题：** {{.Email.Subject}}\n- **发件人：** {{.Email.Sender}}\n- **接收时间：** {{.Email.ReceivedAt}}\n\n**邮件内容**\n> {{.Email.Content}}\n\n**系统信息**\n- **通知时间：** {{.Time.NowFormat}}\n- **系统：** {{.System.AppName}}`\n\nconst getDefaultWeChatTemplate = () => `【系统告警通知】\n\n邮件主题：{{.Email.Subject}}\n发件人：{{.Email.Sender}}\n接收时间：{{.Email.ReceivedAt}}\n\n邮件内容：\n{{.Email.Content}}\n\n通知时间：{{.Time.NowFormat}}\n系统：{{.System.AppName}}`\n\nconst getDefaultMarkdownTemplate = () => `# 🚨 系统告警通知\n\n| 项目 | 内容 |\n|------|------|\n| 邮件主题 | {{.Email.Subject}} |\n| 发件人 | {{.Email.Sender}} |\n| 接收时间 | {{.Email.ReceivedAt}} |\n\n## 邮件内容\n\n\\`\\`\\`\n{{.Email.Content}}\n\\`\\`\\`\n\n---\n*通知时间：{{.Time.NowFormat}} | 系统：{{.System.AppName}}*`\n\n// 刷新预览\nconst refreshPreview = async () => {\n  if (!form.content) return\n  \n  previewLoading.value = true\n  try {\n    const response = await templatesAPI.preview({\n      content: form.content,\n      subject: form.subject\n    })\n    \n    previewData.value = response.data\n  } catch (error) {\n    console.error('预览失败:', error)\n    ElMessage.error('预览失败，请检查模版语法')\n  } finally {\n    previewLoading.value = false\n  }\n}\n\n// 渲染预览内容\nconst renderPreviewContent = computed(() => {\n  if (!previewData.value.content) return '内容预览...'\n  \n  const content = previewData.value.content\n  \n  switch (form.type) {\n    case 'email':\n      return content // HTML 直接渲染\n    case 'dingtalk':\n    case 'markdown':\n      // 简单的 Markdown 渲染\n      return content\n        .replace(/^## (.*$)/gm, '<h2>$1</h2>')\n        .replace(/^# (.*$)/gm, '<h1>$1</h1>')\n        .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n        .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n        .replace(/^- (.*$)/gm, '<li>$1</li>')\n        .replace(/\\n/g, '<br>')\n    case 'wechat':\n    default:\n      return content.replace(/\\n/g, '<br>')\n  }\n})\n\n// 插入变量\nconst insertVariable = () => {\n  showVariableSelector.value = true\n}\n\n// 处理变量插入\nconst handleInsertVariable = (variable) => {\n  form.content += `{{${variable}}}`\n  refreshPreview()\n}\n\nconst handleSelectVariable = (variable) => {\n  handleInsertVariable(variable)\n  showVariableSelector.value = false\n}\n\n// 格式化内容\nconst formatContent = () => {\n  if (form.type === 'email') {\n    // 简单的HTML格式化\n    form.content = form.content\n      .replace(/></g, '>\\n<')\n      .replace(/^\\s+/gm, '')\n  }\n  refreshPreview()\n}\n\n// 提交表单\nconst handleSubmit = async () => {\n  try {\n    await formRef.value.validate()\n    \n    submitLoading.value = true\n    \n    const submitData = {\n      name: form.name,\n      type: form.type,\n      subject: form.subject,\n      content: form.content,\n      is_default: form.is_default,\n      description: form.description\n    }\n    \n    if (isEdit.value) {\n      await templatesAPI.update(props.templateData.id, submitData)\n      ElMessage.success('模版更新成功')\n    } else {\n      await templatesAPI.create(submitData)\n      ElMessage.success('模版创建成功')\n    }\n    \n    emit('success')\n    visible.value = false\n  } catch (error) {\n    console.error('提交失败:', error)\n  } finally {\n    submitLoading.value = false\n  }\n}\n\n// 对话框关闭处理\nconst handleClosed = () => {\n  formRef.value?.resetFields()\n  previewData.value = {\n    subject: '',\n    content: '',\n    used_vars: []\n  }\n}\n\n// 监听内容变化，自动预览\nwatch([() => form.content, () => form.subject], () => {\n  if (form.content) {\n    const timer = setTimeout(() => {\n      refreshPreview()\n    }, 500) // 防抖\n    return () => clearTimeout(timer)\n  }\n}, { deep: true })\n</script>\n\n<style scoped>\n.template-form {\n  max-height: 70vh;\n  overflow-y: auto;\n}\n\n.code-editor {\n  width: 100%;\n}\n\n.editor-toolbar {\n  margin-bottom: 8px;\n  padding: 8px;\n  background-color: #f5f7fa;\n  border-radius: 4px;\n}\n\n.preview-section {\n  border: 1px solid #e4e7ed;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.preview-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px;\n  background-color: #f5f7fa;\n  border-bottom: 1px solid #e4e7ed;\n  font-weight: 600;\n}\n\n.preview-tabs {\n  height: 400px;\n}\n\n.preview-content {\n  padding: 16px;\n  min-height: 300px;\n  max-height: 350px;\n  overflow-y: auto;\n  font-size: 14px;\n  line-height: 1.6;\n}\n\n.subject-preview {\n  background-color: #f0f9ff;\n  border: 1px solid #bfdbfe;\n  border-radius: 4px;\n  font-weight: 600;\n  color: #1e40af;\n}\n\n.html-preview {\n  background-color: #ffffff;\n}\n\n.markdown-preview {\n  background-color: #fafbfc;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\n}\n\n.text-preview {\n  background-color: #f8f9fa;\n  white-space: pre-wrap;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n}\n\n.used-variables {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  padding: 16px;\n}\n\n.variable-tag {\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n}\n\n.no-variables {\n  color: #909399;\n  font-style: italic;\n}\n\n.dialog-footer {\n  text-align: right;\n}\n\n:deep(.el-textarea__inner) {\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace !important;\n  font-size: 13px;\n  line-height: 1.5;\n}\n\n:deep(.el-tabs__content) {\n  height: 350px;\n  overflow: hidden;\n}\n\n:deep(.el-tab-pane) {\n  height: 100%;\n  overflow-y: auto;\n}\n</style> ","<template>\n  <el-dialog\n    v-model=\"visible\"\n    title=\"模版预览\"\n    width=\"80%\"\n    :close-on-click-modal=\"false\"\n  >\n    <div class=\"template-preview\">\n      <div class=\"preview-header\">\n        <div class=\"template-info\">\n          <h3>{{ templateData?.name }}</h3>\n          <div class=\"template-meta\">\n            <el-tag :type=\"getTypeTagType(templateData?.type)\" size=\"small\">\n              {{ getTypeLabel(templateData?.type) }}\n            </el-tag>\n            <el-tag v-if=\"templateData?.is_default\" type=\"success\" size=\"small\">默认模版</el-tag>\n            <span class=\"meta-text\">更新时间：{{ formatTime(templateData?.updated_at) }}</span>\n          </div>\n        </div>\n        <div class=\"preview-actions\">\n          <el-button @click=\"refreshPreview\" :loading=\"loading\">\n            <el-icon><Refresh /></el-icon>\n            刷新预览\n          </el-button>\n        </div>\n      </div>\n      \n      <el-tabs v-model=\"activeTab\" class=\"preview-tabs\">\n        <!-- 预览效果 -->\n        <el-tab-pane label=\"预览效果\" name=\"preview\">\n          <div class=\"preview-content\">\n            <div v-if=\"templateData?.type === 'email' && templateData?.subject\" class=\"subject-section\">\n              <h4>邮件主题</h4>\n              <div class=\"subject-preview\">\n                {{ previewData.subject || templateData.subject }}\n              </div>\n            </div>\n            \n            <div class=\"content-section\">\n              <h4>内容预览</h4>\n              <div \n                class=\"content-preview\"\n                :class=\"{\n                  'html-preview': templateData?.type === 'email',\n                  'markdown-preview': templateData?.type === 'dingtalk' || templateData?.type === 'markdown',\n                  'text-preview': templateData?.type === 'wechat'\n                }\"\n                v-html=\"renderPreviewContent\"\n              >\n              </div>\n            </div>\n          </div>\n        </el-tab-pane>\n        \n        <!-- 原始模版 -->\n        <el-tab-pane label=\"原始模版\" name=\"template\">\n          <div class=\"template-source\">\n            <div v-if=\"templateData?.type === 'email' && templateData?.subject\" class=\"subject-source\">\n              <h4>邮件主题模版</h4>\n              <el-input\n                :model-value=\"templateData.subject\"\n                type=\"textarea\"\n                :rows=\"2\"\n                readonly\n                class=\"template-textarea\"\n              />\n            </div>\n            \n            <div class=\"content-source\">\n              <h4>内容模版</h4>\n              <el-input\n                :model-value=\"templateData?.content || ''\"\n                type=\"textarea\"\n                :rows=\"15\"\n                readonly\n                class=\"template-textarea\"\n              />\n            </div>\n          </div>\n        </el-tab-pane>\n        \n        <!-- 使用变量 -->\n        <el-tab-pane label=\"使用变量\" name=\"variables\">\n          <div class=\"variables-section\">\n            <h4>模版中使用的变量</h4>\n            <div v-if=\"previewData.used_vars && previewData.used_vars.length > 0\" class=\"variable-list\">\n              <el-tag \n                v-for=\"variable in previewData.used_vars\" \n                :key=\"variable\"\n                size=\"medium\"\n                class=\"variable-tag\"\n              >\n                {{ variable }}\n              </el-tag>\n            </div>\n            <div v-else class=\"no-variables\">\n              <el-empty description=\"该模版暂未使用任何变量\" />\n            </div>\n          </div>\n        </el-tab-pane>\n        \n        <!-- 示例数据 -->\n        <el-tab-pane label=\"示例数据\" name=\"data\">\n          <div class=\"sample-data\">\n            <h4>预览使用的示例数据</h4>\n            <el-input\n              :model-value=\"JSON.stringify(sampleData, null, 2)\"\n              type=\"textarea\"\n              :rows=\"20\"\n              readonly\n              class=\"json-textarea\"\n            />\n          </div>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n    \n    <template #footer>\n      <div class=\"dialog-footer\">\n        <el-button @click=\"visible = false\">关闭</el-button>\n        <el-button type=\"primary\" @click=\"handleEdit\">\n          <el-icon><Edit /></el-icon>\n          编辑模版\n        </el-button>\n      </div>\n    </template>\n  </el-dialog>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport { Refresh, Edit } from '@element-plus/icons-vue'\nimport { templatesAPI } from '@/api'\n\nconst props = defineProps({\n  modelValue: {\n    type: Boolean,\n    default: false\n  },\n  templateData: {\n    type: Object,\n    default: null\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'edit'])\n\nconst visible = computed({\n  get: () => props.modelValue,\n  set: (val) => emit('update:modelValue', val)\n})\n\nconst loading = ref(false)\nconst activeTab = ref('preview')\n\nconst previewData = ref({\n  subject: '',\n  content: '',\n  used_vars: []\n})\n\n// 示例数据\nconst sampleData = {\n  Email: {\n    Subject: '【告警】生产环境数据库连接异常',\n    Sender: 'monitor@example.com',\n    Content: '生产环境数据库连接出现异常，连接超时。请立即检查数据库服务器状态。错误信息：Connection timeout after 30 seconds',\n    HTMLContent: '<p>生产环境数据库连接出现异常，连接超时。</p><p>请立即检查数据库服务器状态。</p><p><strong>错误信息：</strong>Connection timeout after 30 seconds</p>',\n    ReceivedAt: '2024-01-15 14:30:25',\n    Size: 1024,\n    MessageID: '<123456789@example.com>'\n  },\n  Alert: {\n    ID: 1001,\n    Subject: '【告警】生产环境数据库连接异常',\n    Status: 'active',\n    Content: '生产环境数据库连接出现异常，连接超时。请立即检查数据库服务器状态。',\n    CreatedAt: '2024-01-15 14:30:25',\n    ReceivedAt: '2024-01-15 14:30:25'\n  },\n  Rule: {\n    ID: 1,\n    Name: '生产环境数据库告警',\n    MatchType: 'keyword',\n    MatchValue: '数据库,连接,异常,超时',\n    Priority: 9,\n    Description: '用于监控生产环境数据库相关告警'\n  },\n  Mailbox: {\n    ID: 1,\n    Name: '生产环境监控邮箱',\n    Email: 'monitor@example.com',\n    Host: 'imap.example.com',\n    Port: 993\n  },\n  System: {\n    AppName: '统一邮件告警平台',\n    AppVersion: 'v1.0.0',\n    ServerName: 'alert-server-01',\n    Environment: 'production'\n  },\n  Time: {\n    Now: Math.floor(Date.now() / 1000),\n    NowFormat: new Date().toLocaleString('zh-CN'),\n    Today: new Date().toLocaleDateString('zh-CN'),\n    Year: new Date().getFullYear(),\n    Month: String(new Date().getMonth() + 1).padStart(2, '0'),\n    Day: String(new Date().getDate()).padStart(2, '0'),\n    Hour: String(new Date().getHours()).padStart(2, '0'),\n    Minute: String(new Date().getMinutes()).padStart(2, '0'),\n    Second: String(new Date().getSeconds()).padStart(2, '0'),\n    Weekday: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'][new Date().getDay()]\n  }\n}\n\n// 获取模版类型标签类型\nconst getTypeTagType = (type) => {\n  const typeMap = {\n    email: 'primary',\n    dingtalk: 'success',\n    wechat: 'warning',\n    markdown: 'info'\n  }\n  return typeMap[type] || 'info'\n}\n\n// 获取模版类型标签\nconst getTypeLabel = (type) => {\n  const typeMap = {\n    email: '邮件模版',\n    dingtalk: '钉钉模版',\n    wechat: '企业微信模版',\n    markdown: 'Markdown模版'\n  }\n  return typeMap[type] || type\n}\n\n// 格式化时间\nconst formatTime = (time) => {\n  if (!time) return '-'\n  return new Date(time).toLocaleString('zh-CN')\n}\n\n// 渲染预览内容\nconst renderPreviewContent = computed(() => {\n  if (!previewData.value.content) return '加载中...'\n  \n  const content = previewData.value.content\n  \n  switch (props.templateData?.type) {\n    case 'email':\n      return content // HTML 直接渲染\n    case 'dingtalk':\n    case 'markdown':\n      // 简单的 Markdown 渲染\n      return content\n        .replace(/^### (.*$)/gm, '<h3>$1</h3>')\n        .replace(/^## (.*$)/gm, '<h2>$1</h2>')\n        .replace(/^# (.*$)/gm, '<h1>$1</h1>')\n        .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n        .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n        .replace(/^- (.*$)/gm, '<li>$1</li>')\n        .replace(/^> (.*$)/gm, '<blockquote>$1</blockquote>')\n        .replace(/`([^`]+)`/g, '<code>$1</code>')\n        .replace(/\\n/g, '<br>')\n    case 'wechat':\n    default:\n      return content.replace(/\\n/g, '<br>')\n  }\n})\n\n// 刷新预览\nconst refreshPreview = async () => {\n  if (!props.templateData?.content) return\n  \n  loading.value = true\n  try {\n    const response = await templatesAPI.preview({\n      content: props.templateData.content,\n      subject: props.templateData.subject || ''\n    })\n    \n    previewData.value = response.data\n  } catch (error) {\n    console.error('预览失败:', error)\n    ElMessage.error('预览失败，请检查模版语法')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 编辑模版\nconst handleEdit = () => {\n  emit('edit', props.templateData)\n  visible.value = false\n}\n\n// 监听模版数据变化，自动刷新预览\nwatch(() => props.templateData, (newData) => {\n  if (newData && visible.value) {\n    refreshPreview()\n  }\n}, { immediate: true })\n\n// 监听对话框显示状态\nwatch(visible, (show) => {\n  if (show && props.templateData) {\n    activeTab.value = 'preview'\n    refreshPreview()\n  }\n})\n</script>\n\n<style scoped>\n.template-preview {\n  max-height: 70vh;\n}\n\n.preview-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid #e4e7ed;\n}\n\n.template-info h3 {\n  margin: 0 0 8px 0;\n  color: #2c3e50;\n  font-weight: 600;\n}\n\n.template-meta {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.meta-text {\n  color: #6c757d;\n  font-size: 14px;\n}\n\n.preview-tabs {\n  height: 60vh;\n}\n\n:deep(.el-tabs__content) {\n  height: calc(60vh - 50px);\n  overflow-y: auto;\n}\n\n.preview-content {\n  padding: 20px;\n}\n\n.subject-section,\n.content-section {\n  margin-bottom: 24px;\n}\n\n.subject-section h4,\n.content-section h4 {\n  margin: 0 0 12px 0;\n  color: #2c3e50;\n  font-weight: 600;\n}\n\n.subject-preview {\n  background-color: #f0f9ff;\n  border: 1px solid #bfdbfe;\n  border-radius: 4px;\n  padding: 12px;\n  font-weight: 600;\n  color: #1e40af;\n}\n\n.content-preview {\n  background-color: #ffffff;\n  border: 1px solid #e4e7ed;\n  border-radius: 4px;\n  padding: 16px;\n  min-height: 300px;\n  font-size: 14px;\n  line-height: 1.6;\n}\n\n.html-preview {\n  background-color: #ffffff;\n}\n\n.markdown-preview {\n  background-color: #fafbfc;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\n}\n\n.text-preview {\n  background-color: #f8f9fa;\n  white-space: pre-wrap;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n}\n\n.template-source {\n  padding: 20px;\n}\n\n.subject-source,\n.content-source {\n  margin-bottom: 24px;\n}\n\n.subject-source h4,\n.content-source h4 {\n  margin: 0 0 12px 0;\n  color: #2c3e50;\n  font-weight: 600;\n}\n\n.template-textarea :deep(.el-textarea__inner) {\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 13px;\n  line-height: 1.5;\n  background-color: #f8f9fa;\n}\n\n.variables-section {\n  padding: 20px;\n}\n\n.variables-section h4 {\n  margin: 0 0 16px 0;\n  color: #2c3e50;\n  font-weight: 600;\n}\n\n.variable-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.variable-tag {\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 12px;\n}\n\n.sample-data {\n  padding: 20px;\n}\n\n.sample-data h4 {\n  margin: 0 0 12px 0;\n  color: #2c3e50;\n  font-weight: 600;\n}\n\n.json-textarea :deep(.el-textarea__inner) {\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 12px;\n  line-height: 1.4;\n  background-color: #f8f9fa;\n}\n\n.dialog-footer {\n  text-align: right;\n}\n\n.no-variables {\n  text-align: center;\n  padding: 40px 0;\n}\n</style> ","<template>\n  <div class=\"templates-page\">\n    <el-card>\n      <template #header>\n        <div class=\"page-header\">\n          <div class=\"header-left\">\n            <h2>消息模版管理</h2>\n            <p class=\"page-description\">管理告警消息的输出模版，支持多种格式和变量替换</p>\n          </div>\n          <div class=\"header-right\">\n            <el-button type=\"primary\" @click=\"handleAdd\">\n              <el-icon><Plus /></el-icon>\n              添加模版\n            </el-button>\n          </div>\n        </div>\n      </template>\n      \n      <!-- 搜索和筛选区域 -->\n      <div class=\"filter-section\">\n        <el-row :gutter=\"16\">\n          <el-col :span=\"8\">\n            <el-input\n              v-model=\"searchForm.name\"\n              placeholder=\"搜索模版名称...\"\n              clearable\n              @input=\"handleSearch\"\n            >\n              <template #prefix>\n                <el-icon><Search /></el-icon>\n              </template>\n            </el-input>\n          </el-col>\n          <el-col :span=\"6\">\n            <el-select\n              v-model=\"searchForm.type\"\n              placeholder=\"模版类型\"\n              clearable\n              @change=\"handleSearch\"\n            >\n              <el-option label=\"全部类型\" value=\"\" />\n              <el-option label=\"邮件模版\" value=\"email\" />\n              <el-option label=\"钉钉模版\" value=\"dingtalk\" />\n              <el-option label=\"企业微信\" value=\"wechat\" />\n              <el-option label=\"Markdown\" value=\"markdown\" />\n            </el-select>\n          </el-col>\n          <el-col :span=\"6\">\n            <el-select\n              v-model=\"searchForm.status\"\n              placeholder=\"状态\"\n              clearable\n              @change=\"handleSearch\"\n            >\n              <el-option label=\"全部状态\" value=\"\" />\n              <el-option label=\"活跃\" value=\"active\" />\n              <el-option label=\"停用\" value=\"inactive\" />\n            </el-select>\n          </el-col>\n          <el-col :span=\"4\">\n            <el-button @click=\"handleReset\">重置</el-button>\n          </el-col>\n        </el-row>\n      </div>\n      \n      <!-- 模版列表 -->\n      <div class=\"table-section\">\n        <el-table \n          :data=\"templateList\" \n          v-loading=\"loading\"\n          stripe\n          style=\"width: 100%\"\n        >\n          <el-table-column prop=\"name\" label=\"模版名称\" min-width=\"150\">\n            <template #default=\"scope\">\n              <div class=\"template-name\">\n                <span>{{ scope.row.name }}</span>\n                <el-tag v-if=\"scope.row.is_default\" type=\"success\" size=\"small\">默认</el-tag>\n              </div>\n            </template>\n          </el-table-column>\n          \n          <el-table-column prop=\"type\" label=\"模版类型\" width=\"120\">\n            <template #default=\"scope\">\n              <el-tag :type=\"getTypeTagType(scope.row.type)\" size=\"small\">\n                {{ getTypeLabel(scope.row.type) }}\n              </el-tag>\n            </template>\n          </el-table-column>\n          \n          <el-table-column prop=\"description\" label=\"描述\" min-width=\"200\" show-overflow-tooltip />\n          \n          <el-table-column prop=\"status\" label=\"状态\" width=\"80\">\n            <template #default=\"scope\">\n              <el-tag :type=\"scope.row.status === 'active' ? 'success' : 'info'\" size=\"small\">\n                {{ scope.row.status === 'active' ? '活跃' : '停用' }}\n              </el-tag>\n            </template>\n          </el-table-column>\n          \n          <el-table-column prop=\"updated_at\" label=\"更新时间\" width=\"180\">\n            <template #default=\"scope\">\n              {{ formatTime(scope.row.updated_at) }}\n            </template>\n          </el-table-column>\n          \n          <el-table-column label=\"操作\" width=\"250\" fixed=\"right\">\n            <template #default=\"scope\">\n              <el-button-group>\n                <el-button \n                  type=\"primary\" \n                  size=\"small\" \n                  @click=\"handlePreview(scope.row)\"\n                  :icon=\"View\"\n                >\n                  预览\n                </el-button>\n                <el-button \n                  type=\"success\" \n                  size=\"small\" \n                  @click=\"handleEdit(scope.row)\"\n                  :icon=\"Edit\"\n                >\n                  编辑\n                </el-button>\n                <el-dropdown @command=\"(command) => handleDropdownCommand(command, scope.row)\">\n                  <el-button size=\"small\" type=\"info\">\n                    更多<el-icon class=\"el-icon--right\"><ArrowDown /></el-icon>\n                  </el-button>\n                  <template #dropdown>\n                    <el-dropdown-menu>\n                      <el-dropdown-item \n                        command=\"setDefault\"\n                        :disabled=\"scope.row.is_default\"\n                      >\n                        设为默认\n                      </el-dropdown-item>\n                      <el-dropdown-item \n                        command=\"duplicate\"\n                      >\n                        复制模版\n                      </el-dropdown-item>\n                      <el-dropdown-item \n                        command=\"toggleStatus\"\n                        :class=\"scope.row.status === 'active' ? 'text-warning' : 'text-success'\"\n                      >\n                        {{ scope.row.status === 'active' ? '停用' : '启用' }}\n                      </el-dropdown-item>\n                      <el-dropdown-item \n                        command=\"delete\"\n                        class=\"text-danger\"\n                        divided\n                      >\n                        删除\n                      </el-dropdown-item>\n                    </el-dropdown-menu>\n                  </template>\n                </el-dropdown>\n              </el-button-group>\n            </template>\n          </el-table-column>\n        </el-table>\n        \n        <!-- 分页 -->\n        <div class=\"pagination-section\">\n          <el-pagination\n            v-model:current-page=\"pagination.page\"\n            v-model:page-size=\"pagination.size\"\n            :page-sizes=\"[10, 20, 50, 100]\"\n            :total=\"pagination.total\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            @size-change=\"loadTemplateList\"\n            @current-change=\"loadTemplateList\"\n          />\n        </div>\n      </div>\n    </el-card>\n    \n    <!-- 模版表单对话框 -->\n    <TemplateForm\n      v-model=\"formVisible\"\n      :template-data=\"currentTemplate\"\n      @success=\"handleFormSuccess\"\n    />\n    \n    <!-- 模版预览对话框 -->\n    <TemplatePreview\n      v-model=\"previewVisible\"\n      :template-data=\"currentTemplate\"\n      @edit=\"handleEditFromPreview\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, onMounted } from 'vue'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { Plus, Search, View, Edit, ArrowDown } from '@element-plus/icons-vue'\nimport { templatesAPI } from '@/api'\nimport TemplateForm from '@/components/TemplateForm.vue'\nimport TemplatePreview from '@/components/TemplatePreview.vue'\n\n// 响应式数据\nconst loading = ref(false)\nconst formVisible = ref(false)\nconst previewVisible = ref(false)\nconst templateList = ref([])\nconst currentTemplate = ref(null)\n\n// 搜索表单\nconst searchForm = reactive({\n  name: '',\n  type: '',\n  status: ''\n})\n\n// 分页信息\nconst pagination = reactive({\n  page: 1,\n  size: 20,\n  total: 0\n})\n\n// 获取模版类型标签类型\nconst getTypeTagType = (type) => {\n  const typeMap = {\n    email: 'primary',\n    dingtalk: 'success',\n    wechat: 'warning',\n    markdown: 'info'\n  }\n  return typeMap[type] || 'info'\n}\n\n// 获取模版类型标签\nconst getTypeLabel = (type) => {\n  const typeMap = {\n    email: '邮件',\n    dingtalk: '钉钉',\n    wechat: '微信',\n    markdown: 'MD'\n  }\n  return typeMap[type] || type\n}\n\n// 格式化时间\nconst formatTime = (time) => {\n  if (!time) return '-'\n  return new Date(time).toLocaleString('zh-CN')\n}\n\n// 加载模版列表\nconst loadTemplateList = async () => {\n  loading.value = true\n  try {\n    const params = {\n      page: pagination.page,\n      size: pagination.size,\n      ...searchForm\n    }\n    \n    // 过滤空值\n    Object.keys(params).forEach(key => {\n      if (params[key] === '' || params[key] === null || params[key] === undefined) {\n        delete params[key]\n      }\n    })\n    \n    const response = await templatesAPI.list(params)\n    templateList.value = response.data.list || []\n    pagination.total = response.data.total || 0\n  } catch (error) {\n    console.error('加载模版列表失败:', error)\n    ElMessage.error('加载模版列表失败')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 搜索处理\nconst handleSearch = () => {\n  pagination.page = 1\n  loadTemplateList()\n}\n\n// 重置搜索\nconst handleReset = () => {\n  Object.assign(searchForm, {\n    name: '',\n    type: '',\n    status: ''\n  })\n  handleSearch()\n}\n\n// 添加模版\nconst handleAdd = () => {\n  currentTemplate.value = null\n  formVisible.value = true\n}\n\n// 编辑模版\nconst handleEdit = (template) => {\n  currentTemplate.value = { ...template }\n  formVisible.value = true\n}\n\n// 预览模版\nconst handlePreview = (template) => {\n  currentTemplate.value = template\n  previewVisible.value = true\n}\n\n// 下拉菜单命令处理\nconst handleDropdownCommand = async (command, template) => {\n  switch (command) {\n    case 'setDefault':\n      await handleSetDefault(template)\n      break\n    case 'duplicate':\n      await handleDuplicate(template)\n      break\n    case 'toggleStatus':\n      await handleToggleStatus(template)\n      break\n    case 'delete':\n      await handleDelete(template)\n      break\n  }\n}\n\n// 设为默认模版\nconst handleSetDefault = async (template) => {\n  try {\n    await templatesAPI.setDefault(template.id)\n    ElMessage.success('设置默认模版成功')\n    loadTemplateList()\n  } catch (error) {\n    console.error('设置默认模版失败:', error)\n    ElMessage.error('设置默认模版失败')\n  }\n}\n\n// 复制模版\nconst handleDuplicate = async (template) => {\n  try {\n    const duplicateData = {\n      name: `${template.name} - 副本`,\n      type: template.type,\n      subject: template.subject,\n      content: template.content,\n      description: `${template.description || ''} (复制自 ${template.name})`,\n      is_default: false,\n      status: 'active'\n    }\n    \n    await templatesAPI.create(duplicateData)\n    ElMessage.success('复制模版成功')\n    loadTemplateList()\n  } catch (error) {\n    console.error('复制模版失败:', error)\n    ElMessage.error('复制模版失败')\n  }\n}\n\n// 切换状态\nconst handleToggleStatus = async (template) => {\n  try {\n    const newStatus = template.status === 'active' ? 'inactive' : 'active'\n    await templatesAPI.update(template.id, { status: newStatus })\n    ElMessage.success(`模版已${newStatus === 'active' ? '启用' : '停用'}`)\n    loadTemplateList()\n  } catch (error) {\n    console.error('切换状态失败:', error)\n    ElMessage.error('切换状态失败')\n  }\n}\n\n// 删除模版\nconst handleDelete = async (template) => {\n  try {\n    await ElMessageBox.confirm(\n      `确定要删除模版\"${template.name}\"吗？此操作不可恢复。`,\n      '确认删除',\n      {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }\n    )\n    \n    await templatesAPI.delete(template.id)\n    ElMessage.success('删除模版成功')\n    loadTemplateList()\n  } catch (error) {\n    if (error !== 'cancel') {\n      console.error('删除模版失败:', error)\n      ElMessage.error('删除模版失败')\n    }\n  }\n}\n\n// 表单成功处理\nconst handleFormSuccess = () => {\n  loadTemplateList()\n}\n\n// 从预览中编辑\nconst handleEditFromPreview = (template) => {\n  currentTemplate.value = { ...template }\n  previewVisible.value = false\n  formVisible.value = true\n}\n\n// 组件挂载时加载数据\nonMounted(() => {\n  loadTemplateList()\n})\n</script>\n\n<style scoped>\n.templates-page {\n  margin: 20px;\n}\n\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n.header-left h2 {\n  margin: 0 0 8px 0;\n  color: #2c3e50;\n  font-weight: 600;\n}\n\n.page-description {\n  margin: 0;\n  color: #6c757d;\n  font-size: 14px;\n}\n\n.filter-section {\n  margin-bottom: 20px;\n  padding: 20px;\n  background-color: #f8f9fa;\n  border-radius: 6px;\n}\n\n.table-section {\n  margin-top: 20px;\n}\n\n.template-name {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.pagination-section {\n  margin-top: 20px;\n  text-align: right;\n}\n\n.text-success {\n  color: #67c23a;\n}\n\n.text-warning {\n  color: #e6a23c;\n}\n\n.text-danger {\n  color: #f56c6c;\n}\n\n:deep(.el-dropdown-menu__item.text-success:hover) {\n  background-color: #f0f9ff;\n  color: #67c23a;\n}\n\n:deep(.el-dropdown-menu__item.text-warning:hover) {\n  background-color: #fdf6ec;\n  color: #e6a23c;\n}\n\n:deep(.el-dropdown-menu__item.text-danger:hover) {\n  background-color: #fef0f0;\n  color: #f56c6c;\n}\n</style> "],"names":["emit","__emit","handleInsert","variableName","getVariableTemplate","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","__props","_hoisted_3","_toDisplayString","_hoisted_4","_Fragment","_renderList","variable","_hoisted_5","_hoisted_6","_createVNode","_component_el_button","$event","_cache","_hoisted_7","_hoisted_8","_hoisted_9","props","visible","computed","val","activeTab","ref","emailVariables","alertVariables","ruleVariables","mailboxVariables","systemVariables","timeVariables","examples","_createBlock","_component_el_dialog","_component_el_alert","_component_el_tabs","_component_el_tab_pane","VariableCategory","example","_component_el_input","searchKeyword","treeRef","treeProps","treeData","filterNode","value","data","handleSearch","_a","handleSelect","_component_el_icon","_unref","Search","_component_el_tree","_withCtx","formRef","submitLoading","previewLoading","showVariableHelp","showVariableSelector","activePreviewTab","isEdit","form","reactive","rules","previewData","watch","initForm","nextTick","refreshPreview","handleTypeChange","type","getDefaultEmailTemplate","getDefaultDingTalkTemplate","getDefaultWeChatTemplate","getDefaultMarkdownTemplate","response","templatesAPI","error","ElMessage","renderPreviewContent","content","insertVariable","handleInsertVariable","handleSelectVariable","formatContent","handleSubmit","submitData","handleClosed","timer","_hoisted_10","_component_el_row","_component_el_col","_component_el_form","_component_el_form_item","_component_el_select","_component_el_option","_component_el_button_group","Plus","QuestionFilled","Document","_component_el_switch","_component_el_tag","VariableHelp","VariableSelector","loading","sampleData","getTypeTagType","getTypeLabel","formatTime","time","handleEdit","newData","show","_hoisted_19","Edit","_b","_c","_d","Refresh","_e","_f","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_component_el_empty","_hoisted_18","formVisible","previewVisible","templateList","currentTemplate","searchForm","pagination","loadTemplateList","params","key","handleReset","handleAdd","template","handlePreview","handleDropdownCommand","command","handleSetDefault","handleDuplicate","handleToggleStatus","handleDelete","duplicateData","newStatus","ElMessageBox","handleFormSuccess","handleEditFromPreview","onMounted","_component_el_card","_component_el_table","_component_el_table_column","scope","_createTextVNode","View","_component_el_dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","_normalizeClass","ArrowDown","_component_el_pagination","TemplateForm","TemplatePreview"],"mappings":"mwBAoDA,MAAMA,EAAOC,EAEPC,EAAgBC,GAAiB,CACrCH,EAAK,SAAUG,CAAY,CAC7B,EAEMC,EAAuBD,GACpB,KAAKA,CAAY,0CA1DxB,OAAAE,EAAA,EAAAC,EAgCM,MAhCNC,GAgCM,CA/BJC,EAGM,MAHNC,GAGM,CAFJD,EAAoB,YAAbE,EAAK,KAAA,EAAA,CAAA,EACZF,EAAqD,IAArDG,GAAqDC,EAAlBF,EAAW,WAAA,EAAA,CAAA,IAGhDF,EAyBM,MAzBNK,GAyBM,QAxBJP,EAuBMQ,GAAA,KAAAC,GAtBeL,EAAS,UAArBM,QADTV,EAuBM,MAAA,CArBH,IAAKU,EAAS,KACf,MAAM,kBAENR,EAiBM,MAjBNS,GAiBM,CAhBJT,EAUM,MAVNU,GAUM,CATJV,EAAqD,OAA5C,KAAAI,EAAAR,EAAoBY,EAAS,IAAI,CAAA,EAAA,CAAA,EAC1CG,EAOYC,EAAA,CANV,KAAK,QACL,KAAK,UACL,KAAA,GACC,QAAOC,GAAAnB,EAAac,EAAS,IAAI,cACnC,IAEDM,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAFC,MAED,qCAEFd,EAAkE,MAAlEe,GAAqCX,EAAAI,EAAS,WAAW,EAAA,CAAA,EACzDR,EAGM,MAHNgB,GAGM,CAFJF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAd,EAAuC,OAAjC,CAAA,MAAM,eAAe,EAAC,OAAI,EAAA,GAChCA,EAAyD,OAAzDiB,GAA+Bb,EAAAI,EAAS,OAAO,EAAA,CAAA,wYC0F3D,MAAMU,EAAQhB,EAORV,EAAOC,EAEP0B,EAAUC,EAAS,CACvB,IAAK,IAAMF,EAAM,WACjB,IAAMG,GAAQ7B,EAAK,oBAAqB6B,CAAG,CAC7C,CAAC,EAEKC,EAAYC,EAAI,OAAO,EAGvBC,EAAiB,CACrB,CACE,KAAM,iBACN,YAAa,OACb,QAAS,YACV,EACD,CACE,KAAM,gBACN,YAAa,UACb,QAAS,qBACV,EACD,CACE,KAAM,iBACN,YAAa,SACb,QAAS,eACV,EACD,CACE,KAAM,qBACN,YAAa,WACb,QAAS,sBACV,EACD,CACE,KAAM,oBACN,YAAa,SACb,QAAS,qBACV,EACD,CACE,KAAM,cACN,YAAa,WACb,QAAS,MACV,EACD,CACE,KAAM,mBACN,YAAa,UACb,QAAS,sBACb,CACA,EAGMC,EAAiB,CACrB,CACE,KAAM,YACN,YAAa,OACb,QAAS,MACV,EACD,CACE,KAAM,iBACN,YAAa,YACb,QAAS,YACV,EACD,CACE,KAAM,gBACN,YAAa,OACb,QAAS,QACV,EACD,CACE,KAAM,iBACN,YAAa,YACb,QAAS,eACV,EACD,CACE,KAAM,mBACN,YAAa,SACb,QAAS,qBACV,EACD,CACE,KAAM,oBACN,YAAa,SACb,QAAS,qBACb,CACA,EAGMC,EAAgB,CACpB,CACE,KAAM,WACN,YAAa,OACb,QAAS,GACV,EACD,CACE,KAAM,aACN,YAAa,OACb,QAAS,UACV,EACD,CACE,KAAM,kBACN,YAAa,OACb,QAAS,SACV,EACD,CACE,KAAM,mBACN,YAAa,MACb,QAAS,UACV,EACD,CACE,KAAM,iBACN,YAAa,QACb,QAAS,GACV,EACD,CACE,KAAM,oBACN,YAAa,OACb,QAAS,eACb,CACA,EAGMC,EAAmB,CACvB,CACE,KAAM,cACN,YAAa,OACb,QAAS,GACV,EACD,CACE,KAAM,gBACN,YAAa,OACb,QAAS,MACV,EACD,CACE,KAAM,iBACN,YAAa,OACb,QAAS,qBACV,EACD,CACE,KAAM,gBACN,YAAa,YACb,QAAS,kBACV,EACD,CACE,KAAM,gBACN,YAAa,SACb,QAAS,KACb,CACA,EAGMC,EAAkB,CACtB,CACE,KAAM,kBACN,YAAa,OACb,QAAS,UACV,EACD,CACE,KAAM,qBACN,YAAa,OACb,QAAS,QACV,EACD,CACE,KAAM,qBACN,YAAa,QACb,QAAS,iBACV,EACD,CACE,KAAM,sBACN,YAAa,OACb,QAAS,YACb,CACA,EAGMC,EAAgB,CACpB,CACE,KAAM,YACN,YAAa,QACb,QAAS,YACV,EACD,CACE,KAAM,kBACN,YAAa,YACb,QAAS,qBACV,EACD,CACE,KAAM,cACN,YAAa,OACb,QAAS,YACV,EACD,CACE,KAAM,aACN,YAAa,OACb,QAAS,MACV,EACD,CACE,K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"}