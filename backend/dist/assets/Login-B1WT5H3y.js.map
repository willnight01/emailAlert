{"version":3,"file":"Login-B1WT5H3y.js","sources":["../../src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <!-- 背景动画元素 -->\n    <div class=\"bg-animation\">\n      <div class=\"floating-shape shape-1\"></div>\n      <div class=\"floating-shape shape-2\"></div>\n      <div class=\"floating-shape shape-3\"></div>\n      <div class=\"floating-shape shape-4\"></div>\n    </div>\n    \n    <div class=\"login-card\">\n      <div class=\"login-header\">\n        <div class=\"logo-container\">\n          <img src=\"/logo.png\" alt=\"Logo\" class=\"login-logo\" />\n          <div class=\"logo-glow\"></div>\n        </div>\n        <h1 class=\"app-title\">EmailAlert</h1>\n        <h2 class=\"app-subtitle\">邮件告警平台</h2>\n        <p class=\"login-desc\">请登录您的账户</p>\n      </div>\n      \n      <el-form\n        ref=\"loginFormRef\"\n        :model=\"loginForm\"\n        :rules=\"loginRules\"\n        class=\"login-form\"\n        @submit.prevent=\"handleLogin\"\n      >\n        <el-form-item prop=\"username\" class=\"form-item-animated\">\n          <el-input\n            v-model=\"loginForm.username\"\n            placeholder=\"用户名\"\n            size=\"large\"\n            prefix-icon=\"User\"\n            :disabled=\"loading\"\n            class=\"animated-input\"\n          />\n        </el-form-item>\n        \n        <el-form-item prop=\"password\" class=\"form-item-animated\">\n          <el-input\n            v-model=\"loginForm.password\"\n            type=\"password\"\n            placeholder=\"密码\"\n            size=\"large\"\n            prefix-icon=\"Lock\"\n            :disabled=\"loading\"\n            show-password\n            @keyup.enter=\"handleLogin\"\n            class=\"animated-input\"\n          />\n        </el-form-item>\n        \n        <el-form-item class=\"form-item-animated\">\n          <el-button\n            type=\"primary\"\n            size=\"large\"\n            :loading=\"loading\"\n            @click=\"handleLogin\"\n            class=\"login-button\"\n          >\n            <span v-if=\"!loading\">登录</span>\n            <span v-else class=\"loading-text\">登录中...</span>\n          </el-button>\n        </el-form-item>\n      </el-form>\n      \n      <div class=\"login-footer\">\n        <div class=\"copyright-info\">\n          <p class=\"version\">v1.0.0</p>\n          <p class=\"maintainer\">维护者：Eason Zhang</p>\n          <p class=\"github-link\">\n            <a href=\"https://github.com/wilnight01/emailAlert\" target=\"_blank\" rel=\"noopener noreferrer\">\n              <el-icon><Link /></el-icon>\n              开源项目地址\n            </a>\n          </p>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport { User, Lock, Link } from '@element-plus/icons-vue'\nimport { authAPI } from '@/api'\nimport { useUserStore } from '@/store'\n\nconst router = useRouter()\nconst userStore = useUserStore()\nconst loginFormRef = ref()\nconst loading = ref(false)\n\nconst loginForm = reactive({\n  username: '',\n  password: ''\n})\n\nconst loginRules = {\n  username: [\n    { required: true, message: '请输入用户名', trigger: 'blur' }\n  ],\n  password: [\n    { required: true, message: '请输入密码', trigger: 'blur' }\n  ]\n}\n\nconst handleLogin = async () => {\n  if (!loginFormRef.value) return\n  \n  try {\n    await loginFormRef.value.validate()\n    loading.value = true\n    \n    const response = await authAPI.login(loginForm)\n    \n    if (response.data) {\n      // 使用store来处理登录状态\n      userStore.login({\n        username: response.data.username,\n        role: response.data.role\n      })\n      \n      ElMessage.success('登录成功')\n      \n      // 使用 nextTick 确保状态更新后再跳转\n      await new Promise(resolve => setTimeout(resolve, 100))\n      \n      // 跳转到首页\n      router.push('/dashboard')\n    }\n  } catch (error) {\n    console.error('登录失败:', error)\n    ElMessage.error(error.response?.data?.message || '登录失败')\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n\n<style scoped>\n.login-container {\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 20px;\n  position: relative;\n  overflow: hidden;\n}\n\n/* 背景动画 */\n.bg-animation {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  z-index: 1;\n}\n\n.floating-shape {\n  position: absolute;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 50%;\n  animation: float 6s ease-in-out infinite;\n}\n\n.shape-1 {\n  width: 80px;\n  height: 80px;\n  top: 20%;\n  left: 10%;\n  animation-delay: 0s;\n}\n\n.shape-2 {\n  width: 60px;\n  height: 60px;\n  top: 60%;\n  right: 15%;\n  animation-delay: 2s;\n}\n\n.shape-3 {\n  width: 100px;\n  height: 100px;\n  bottom: 20%;\n  left: 20%;\n  animation-delay: 4s;\n}\n\n.shape-4 {\n  width: 40px;\n  height: 40px;\n  top: 30%;\n  right: 30%;\n  animation-delay: 1s;\n}\n\n@keyframes float {\n  0%, 100% {\n    transform: translateY(0px) rotate(0deg);\n    opacity: 0.7;\n  }\n  50% {\n    transform: translateY(-20px) rotate(180deg);\n    opacity: 1;\n  }\n}\n\n.login-card {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  border-radius: 16px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n  padding: 40px;\n  width: 100%;\n  max-width: 420px;\n  position: relative;\n  z-index: 2;\n  animation: cardSlideIn 0.8s ease-out;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n@keyframes cardSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.login-header {\n  text-align: center;\n  margin-bottom: 35px;\n}\n\n.logo-container {\n  position: relative;\n  display: inline-block;\n  margin-bottom: 20px;\n}\n\n.login-logo {\n  width: 68px;\n  height: 68px;\n  animation: logoFloat 3s ease-in-out infinite;\n  position: relative;\n  z-index: 2;\n}\n\n.logo-glow {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 80px;\n  height: 80px;\n  background: radial-gradient(circle, rgba(102, 126, 234, 0.3) 0%, transparent 70%);\n  border-radius: 50%;\n  animation: glow 2s ease-in-out infinite alternate;\n}\n\n@keyframes logoFloat {\n  0%, 100% {\n    transform: translateY(0px);\n  }\n  50% {\n    transform: translateY(-8px);\n  }\n}\n\n@keyframes glow {\n  from {\n    opacity: 0.5;\n    transform: translate(-50%, -50%) scale(1);\n  }\n  to {\n    opacity: 0.8;\n    transform: translate(-50%, -50%) scale(1.1);\n  }\n}\n\n.app-title {\n  color: #333;\n  margin: 0 0 8px 0;\n  font-size: 28px;\n  font-weight: 700;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  animation: titleSlideIn 0.8s ease-out 0.2s both;\n}\n\n.app-subtitle {\n  color: #555;\n  margin: 0 0 8px 0;\n  font-size: 18px;\n  font-weight: 500;\n  animation: titleSlideIn 0.8s ease-out 0.4s both;\n}\n\n.login-desc {\n  color: #666;\n  margin: 0;\n  font-size: 14px;\n  animation: titleSlideIn 0.8s ease-out 0.6s both;\n}\n\n@keyframes titleSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.login-form {\n  margin-bottom: 20px;\n}\n\n.form-item-animated {\n  margin-bottom: 24px;\n  animation: formSlideIn 0.6s ease-out both;\n}\n\n.form-item-animated:nth-child(1) {\n  animation-delay: 0.8s;\n}\n\n.form-item-animated:nth-child(2) {\n  animation-delay: 1s;\n}\n\n.form-item-animated:nth-child(3) {\n  animation-delay: 1.2s;\n}\n\n@keyframes formSlideIn {\n  from {\n    opacity: 0;\n    transform: translateX(-30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n.animated-input :deep(.el-input__wrapper) {\n  transition: all 0.3s ease;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.animated-input :deep(.el-input__wrapper):hover {\n  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);\n  transform: translateY(-1px);\n}\n\n.animated-input :deep(.el-input__wrapper.is-focus) {\n  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.25);\n  transform: translateY(-1px);\n}\n\n.login-button {\n  width: 100%;\n  height: 48px;\n  font-size: 16px;\n  font-weight: 500;\n  border-radius: 8px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: none;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n\n.login-button::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n  transition: left 0.5s;\n}\n\n.login-button:hover::before {\n  left: 100%;\n}\n\n.login-button:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);\n}\n\n.login-button:active {\n  transform: translateY(0);\n}\n\n.loading-text {\n  animation: pulse 1.5s ease-in-out infinite;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.7;\n  }\n}\n\n.login-footer {\n  margin-top: 35px;\n  padding-top: 25px;\n  border-top: 1px solid rgba(240, 240, 240, 0.8);\n  animation: footerSlideIn 0.8s ease-out 1.4s both;\n}\n\n@keyframes footerSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.copyright-info {\n  text-align: center;\n}\n\n.copyright-info p {\n  margin: 10px 0;\n  font-size: 12px;\n  color: #999;\n  transition: color 0.3s ease;\n}\n\n.version {\n  font-weight: 600;\n  color: #666 !important;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  font-size: 13px;\n}\n\n.maintainer {\n  color: #888;\n}\n\n.github-link {\n  margin-top: 12px;\n}\n\n.github-link a {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  color: #409eff;\n  text-decoration: none;\n  transition: all 0.3s ease;\n  padding: 4px 8px;\n  border-radius: 6px;\n  background: rgba(64, 158, 255, 0.1);\n}\n\n.github-link a:hover {\n  color: #337ecc;\n  background: rgba(64, 158, 255, 0.15);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(64, 158, 255, 0.2);\n}\n\n.github-link .el-icon {\n  font-size: 14px;\n  transition: transform 0.3s ease;\n}\n\n.github-link a:hover .el-icon {\n  transform: rotate(10deg);\n}\n\n</style> "],"names":["router","useRouter","userStore","useUserStore","loginFormRef","ref","loading","loginForm","reactive","loginRules","handleLogin","response","authAPI","ElMessage","resolve","error","_b","_a","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_form","_component_el_form_item","_component_el_input","_cache","$event","_component_el_button","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_component_el_icon","_unref","Link"],"mappings":"qfA4FA,MAAMA,EAASC,EAAS,EAClBC,EAAYC,EAAY,EACxBC,EAAeC,EAAG,EAClBC,EAAUD,EAAI,EAAK,EAEnBE,EAAYC,EAAS,CACzB,SAAU,GACV,SAAU,EACZ,CAAC,EAEKC,EAAa,CACjB,SAAU,CACR,CAAE,SAAU,GAAM,QAAS,SAAU,QAAS,MAAM,CACrD,EACD,SAAU,CACR,CAAE,SAAU,GAAM,QAAS,QAAS,QAAS,MAAM,CACvD,CACA,EAEMC,EAAc,SAAY,SAC9B,GAAKN,EAAa,MAElB,GAAI,CACF,MAAMA,EAAa,MAAM,SAAQ,EACjCE,EAAQ,MAAQ,GAEhB,MAAMK,EAAW,MAAMC,EAAQ,MAAML,CAAS,EAE1CI,EAAS,OAEXT,EAAU,MAAM,CACd,SAAUS,EAAS,KAAK,SACxB,KAAMA,EAAS,KAAK,IACrB,CAAA,EAEDE,EAAU,QAAQ,MAAM,EAGxB,MAAM,IAAI,QAAQC,GAAW,WAAWA,EAAS,GAAG,CAAC,EAGrDd,EAAO,KAAK,YAAY,EAE3B,OAAQe,EAAO,CACd,QAAQ,MAAM,QAASA,CAAK,EAC5BF,EAAU,QAAMG,GAAAC,EAAAF,EAAM,WAAN,YAAAE,EAAgB,OAAhB,YAAAD,EAAsB,UAAW,MAAM,CAC3D,QAAY,CACRV,EAAQ,MAAQ,EACpB,CACA,yGA5IE,OAAAY,EAAA,EAAAC,EAgFM,MAhFNC,EAgFM,8SAvEJC,EAsEM,MAtENC,EAsEM,8XA3DJC,EA4CUC,EAAA,SA3CJ,eAAJ,IAAIpB,EACH,MAAOG,EACP,MAAOE,EACR,MAAM,aACL,WAAgBC,EAAW,CAAA,SAAA,CAAA,cAE5B,IASe,CATfa,EASeE,EAAA,CATD,KAAK,WAAW,MAAM,iCAClC,IAOE,CAPFF,EAOEG,EAAA,CANS,WAAAnB,EAAU,SAAV,sBAAAoB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAArB,EAAU,SAAQqB,GAC3B,YAAY,MACZ,KAAK,QACL,cAAY,OACX,SAAUtB,EAAO,MAClB,MAAM,4DAIViB,EAYeE,EAAA,CAZD,KAAK,WAAW,MAAM,iCAClC,IAUE,CAVFF,EAUEG,EAAA,CATS,WAAAnB,EAAU,SAAV,sBAAAoB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAArB,EAAU,SAAQqB,GAC3B,KAAK,WACL,YAAY,KACZ,KAAK,QACL,cAAY,OACX,SAAUtB,EAAO,MAClB,gBAAA,GACC,UAAaI,EAAW,CAAA,OAAA,CAAA,EACzB,MAAM,4DAIVa,EAWeE,EAAA,CAXD,MAAM,oBAAoB,EAAA,WACtC,IASY,CATZF,EASYM,EAAA,CARV,KAAK,UACL,KAAK,QACJ,QAASvB,EAAO,MAChB,QAAOI,EACR,MAAM,2BAEN,IAA+B,CAAlBJ,EAAO,WACpBa,EAA+C,OAA/CW,EAAkC,QAAM,IADxCZ,EAAA,EAAAC,EAA+B,SAAT,IAAE,qDAM9BE,EAWM,MAXNU,EAWM,CAVJV,EASM,MATNW,EASM,CARJL,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAN,EAA6B,IAA1B,CAAA,MAAM,SAAS,EAAC,SAAM,EAAA,GACzBM,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAN,EAAyC,IAAtC,CAAA,MAAM,YAAY,EAAC,kBAAe,EAAA,GACrCA,EAKI,IALJY,EAKI,CAJFZ,EAGI,IAHJa,EAGI,CAFFX,EAA2BY,EAAA,KAAA,WAAlB,IAAQ,CAARZ,EAAQa,EAAAC,CAAA,CAAA,wBAAU,UAE7B"}