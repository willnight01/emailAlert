import{_ as x,u as E,r as g,a as L,c as m,o as f,b as v,d as o,e as s,w as n,f as N,g as r,h as R,i as S,j as U,k as z,l as A,m as B,E as _}from"./index-Cq749T7a.js";import{a as C}from"./index-DZNyvenB.js";const F={class:"login-container"},q={class:"login-card"},I={key:0},K={key:1,class:"loading-text"},M={class:"login-footer"},P={class:"copyright-info"},T={class:"github-link"},j={href:"https://github.com/wilnight01/emailAlert",target:"_blank",rel:"noopener noreferrer"},Z={__name:"Login",setup(D){const h=S(),w=E(),d=g(),t=g(!1),l=L({username:"",password:""}),b={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},c=async()=>{var u,e;if(d.value)try{await d.value.validate(),t.value=!0;const a=await C.login(l);a.data&&(w.login({username:a.data.username,role:a.data.role}),_.success("登录成功"),await new Promise(i=>setTimeout(i,100)),h.push("/dashboard"))}catch(a){console.error("登录失败:",a),_.error(((e=(u=a.response)==null?void 0:u.data)==null?void 0:e.message)||"登录失败")}finally{t.value=!1}};return(u,e)=>{const a=r("el-input"),i=r("el-form-item"),y=r("el-button"),k=r("el-form"),V=r("el-icon");return f(),m("div",F,[e[6]||(e[6]=v('<div class="bg-animation" data-v-f62c86e4><div class="floating-shape shape-1" data-v-f62c86e4></div><div class="floating-shape shape-2" data-v-f62c86e4></div><div class="floating-shape shape-3" data-v-f62c86e4></div><div class="floating-shape shape-4" data-v-f62c86e4></div></div>',1)),o("div",q,[e[5]||(e[5]=v('<div class="login-header" data-v-f62c86e4><div class="logo-container" data-v-f62c86e4><img src="'+U+'" alt="Logo" class="login-logo" data-v-f62c86e4><div class="logo-glow" data-v-f62c86e4></div></div><h1 class="app-title" data-v-f62c86e4>EmailAlert</h1><h2 class="app-subtitle" data-v-f62c86e4>邮件告警平台</h2><p class="login-desc" data-v-f62c86e4>请登录您的账户</p></div>',1)),s(k,{ref_key:"loginFormRef",ref:d,model:l,rules:b,class:"login-form",onSubmit:N(c,["prevent"])},{default:n(()=>[s(i,{prop:"username",class:"form-item-animated"},{default:n(()=>[s(a,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=p=>l.username=p),placeholder:"用户名",size:"large","prefix-icon":"User",disabled:t.value,class:"animated-input"},null,8,["modelValue","disabled"])]),_:1}),s(i,{prop:"password",class:"form-item-animated"},{default:n(()=>[s(a,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=p=>l.password=p),type:"password",placeholder:"密码",size:"large","prefix-icon":"Lock",disabled:t.value,"show-password":"",onKeyup:z(c,["enter"]),class:"animated-input"},null,8,["modelValue","disabled"])]),_:1}),s(i,{class:"form-item-animated"},{default:n(()=>[s(y,{type:"primary",size:"large",loading:t.value,onClick:c,class:"login-button"},{default:n(()=>[t.value?(f(),m("span",K,"登录中...")):(f(),m("span",I,"登录"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),o("div",M,[o("div",P,[e[3]||(e[3]=o("p",{class:"version"},"v1.0.0",-1)),e[4]||(e[4]=o("p",{class:"maintainer"},"维护者：Eason Zhang",-1)),o("p",T,[o("a",j,[s(V,null,{default:n(()=>[s(A(B))]),_:1}),e[2]||(e[2]=R(" 开源项目地址 "))])])])])])])}}},J=x(Z,[["__scopeId","data-v-f62c86e4"]]);export{J as default};
//# sourceMappingURL=Login-B1WT5H3y.js.map
